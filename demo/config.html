<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações</title>
    <script src="js/config.js"></script>
    <script>
        function saveConfigForm() {
            console.log(document.getElementById('staticDependenciesPath').value)
            const config = {
                playCaptureSound: document.getElementById('playCaptureSound').checked,
                wizzard: document.getElementById('wizzard').checked,
                desabilitaCapturaDesktop: document.getElementById('desabilitaCapturaDesktop').checked,
                corPrimary: document.getElementById('corPrimary').value,
                corTextCorpo: document.getElementById('corTextCorpo').value,
                corTextTitle: document.getElementById('corTextTitle').value,
                corTextButton: document.getElementById('corTextButton').value,
                fontFamily: document.getElementById('fontFamily').value,
                timeoutCaptura: document.getElementById('timeoutCaptura').value,
                timeoutRequests: document.getElementById('timeoutRequests').value,
                cameraTraseira: document.getElementById('cameraTraseira').checked,
                staticDependenciesPath: document.getElementById('staticDependenciesPath').value,
                modelJsonPath: document.getElementById('modelJsonPath').value,
                proxyUrl: document.getElementById('proxyUrl').value,
                maxTentativas: document.getElementById('maxTentativas').value,
                traceId: document.getElementById('traceId').value
            };

            saveConfig(config);

            alert('Configurações salvas!');
            window.location.href = 'index.html'; // Redireciona para index.html
        }

        function clearConfigForm() {
            localStorage.removeItem('config');
            updateForm();
        }

        function updateForm() {
            const config = loadConfig();

            document.getElementById('desabilitaCapturaDesktop').checked = config.desabilitaCapturaDesktop;
            document.getElementById('cameraTraseira').checked = config.cameraTraseira;
            document.getElementById('playCaptureSound').checked = config.playCaptureSound;
            document.getElementById('wizzard').checked = config.wizzard;
            document.getElementById('corPrimary').value = config.corPrimary;
            document.getElementById('corTextCorpo').value = config.corTextCorpo;
            document.getElementById('corTextTitle').value = config.corTextTitle;
            document.getElementById('corTextButton').value = config.corTextButton;
            document.getElementById('fontFamily').value = config.fontFamily;
            document.getElementById('timeoutCaptura').value = config.timeoutCaptura;
            document.getElementById('timeoutRequests').value = config.timeoutRequests;
            document.getElementById('staticDependenciesPath').value = config.staticDependenciesPath;
            document.getElementById('modelJsonPath').value = config.modelJsonPath;
            document.getElementById('proxyUrl').value = config.proxyUrl;
            document.getElementById('maxTentativas').value = config.maxTentativas;
            document.getElementById('traceId').value = config.traceId;
        }

        window.onload = function () {
            updateForm();
        }
    </script>
</head>

<body>
    <h1>Configurações</h1>
    <form onsubmit="saveConfigForm(); return false;">
        <label for="playCaptureSound">playCaptureSound:</label>
        <input type="checkbox" id="playCaptureSound" name="playCaptureSound"><br><br>

        <label for="wizzard">Iniciar Wizard:</label>
        <input type="checkbox" id="wizzard" name="wizzard"><br><br>

        <label for="desabilitaCapturaDesktop">desabilitaCapturaDesktop:</label>
        <input type="checkbox" id="desabilitaCapturaDesktop" name="desabilitaCapturaDesktop"><br><br>

        <label for="cameraTraseira">cameraTraseira:</label>
        <input type="checkbox" id="cameraTraseira" name="cameraTraseira"><br><br>

        <label for="corPrimary">Cor primária:</label>
        <input type="color" id="corPrimary" name="corPrimary" value="#002DD1"><br><br>

        <label for="corTextCorpo">Cor texto corpo:</label>
        <input type="color" id="corTextCorpo" name="corTextCorpo" value="#585858"><br><br>

        <label for="corTextTitle">Cor texto título:</label>
        <input type="color" id="corTextTitle" name="corTextTitle" value="#2A5595"><br><br>

        <label for="corTextButton">Cor texto botão:</label>
        <input type="color" id="corTextButton" name="corTextButton" value="#ffffff"><br><br>

        <label for="fontFamily">Fonte:</label>
        <input type="text" id="fontFamily" name="fontFamily" value="Roboto"><br><br>

        <label for="proxyUrl">Proxy URL:</label>
        <input type="text" id="proxyUrl" name="proxyUrl" value=""><br><br>

        <label for="traceId">Trace ID:</label>
        <input type="text" id="traceId" name="traceId" value=""><br><br>

        <label for="timeoutCaptura">Timeout captura (ms):</label>
        <input type="number" id="timeoutCaptura" name="timeoutCaptura" value="999999"><br><br>

        <label for="timeoutRequests">Timeout requests (ms):</label>
        <input type="number" id="timeoutRequests" name="timeoutRequests" value="999999"><br><br>

        <label for="maxTentativas">Num max tentativas:</label>
        <input type="number" id="maxTentativas" name="maxTentativas" value="999999"><br><br>

        <label for="staticDependenciesPath">Caminho de import wasm:</label>
        <input type="text" id="staticDependenciesPath" name="staticDependenciesPath" value=""><br><br>

        <label for="modelJsonPath">Caminho do Model Json:</label>
        <input type="text" id="modelJsonPath" name="modelJsonPath" value=""><br><br>

        <input type="submit" value="Salvar Configurações">
        <input type="button" value="Limpar Configurações" class="button" id="clearButton" onclick="clearConfigForm()">
    </form>
</body>

</html>